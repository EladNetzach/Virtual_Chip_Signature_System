/*! For license information please see main.2db9463c4e39c7d2f00b.js.LICENSE.txt */
(()=>{"use strict";var e={37:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{y:()=>d}),e=n.hmd(e);var u=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"result-display",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.containerId=t,this.container=null,this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({theme:"dark",animations:!0,autoHide:!0,autoHideDelay:5e3,maxResults:10},n),this.results=[],this.currentResult=null,this.autoHideTimer=null,this.init()},t=[{key:"init",value:function(){this.createContainer(),this.createUI(),this.bindEvents(),this.applyTheme()}},{key:"createContainer",value:function(){var e=document.getElementById(this.containerId);e&&e.remove(),this.container=document.createElement("div"),this.container.id=this.containerId,this.container.className="result-display-container",this.container.style.cssText='\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            width: 450px;\n            max-height: 80vh;\n            background: #1a1a1a;\n            color: #ffffff;\n            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n            z-index: 10000;\n            border-radius: 10px;\n            box-shadow: 0 4px 20px rgba(0,0,0,0.3);\n            overflow: hidden;\n            display: none;\n            transition: all 0.3s ease;\n        ',document.body.appendChild(this.container)}},{key:"createUI",value:function(){var e=this,t=document.createElement("div");t.className="result-header",t.style.cssText="\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            padding: 15px 20px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 1px solid #333;\n        ";var n=document.createElement("h3");n.textContent="üéØ Signature Results",n.style.cssText="\n            margin: 0;\n            color: white;\n            font-size: 18px;\n            font-weight: 600;\n        ";var r=document.createElement("div");r.style.display="flex",r.gap="10px";var i=document.createElement("button");i.innerHTML="‚àí",i.onclick=function(){return e.minimize()},i.style.cssText="\n            background: rgba(255,255,255,0.2);\n            color: white;\n            border: none;\n            padding: 5px 10px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 16px;\n            font-weight: bold;\n        ";var o=document.createElement("button");o.innerHTML="√ó",o.onclick=function(){return e.hide()},o.style.cssText="\n            background: rgba(255,255,255,0.2);\n            color: white;\n            border: none;\n            padding: 5px 10px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 18px;\n            font-weight: bold;\n        ",r.appendChild(i),r.appendChild(o),t.appendChild(n),t.appendChild(r);var a=document.createElement("div");a.className="result-content",a.style.cssText="\n            padding: 20px;\n            max-height: 60vh;\n            overflow-y: auto;\n        ",this.content=a;var s=document.createElement("div");s.className="result-status",s.style.cssText="\n            background: #2a2a2a;\n            padding: 10px 20px;\n            border-top: 1px solid #333;\n            font-size: 12px;\n            color: #ccc;\n            display: flex;\n            justify-content: space-between;\n        ",this.statusBar=s,this.container.appendChild(t),this.container.appendChild(a),this.container.appendChild(s),this.updateStatus()}},{key:"bindEvents",value:function(){var e=this;document.addEventListener("keydown",function(t){t.ctrlKey&&t.shiftKey&&"R"===t.key&&(t.preventDefault(),e.toggle())}),this.container.addEventListener("mouseenter",function(){e.autoHideTimer&&(clearTimeout(e.autoHideTimer),e.autoHideTimer=null)}),this.container.addEventListener("mouseleave",function(){e.options.autoHide&&e.currentResult&&(e.autoHideTimer=setTimeout(function(){e.hide()},e.options.autoHideDelay))})}},{key:"applyTheme",value:function(){"light"===this.options.theme&&(this.container.style.background="#ffffff",this.container.style.color="#333333",this.content.style.background="#f5f5f5")}},{key:"displaySignatureResult",value:function(e){this.currentResult=e,this.results.unshift(e),this.results.length>this.options.maxResults&&this.results.pop(),this.renderResult(e),this.show(),this.updateStatus()}},{key:"displayTransactionResult",value:function(e){this.currentResult=e,this.results.unshift(e),this.results.length>this.options.maxResults&&this.results.pop(),this.renderTransactionResult(e),this.show(),this.updateStatus()}},{key:"displayError",value:function(e){var t={type:"error",timestamp:(new Date).toISOString(),message:e.message||"An error occurred",details:e.details||e,severity:e.severity||"error"};this.currentResult=t,this.results.unshift(t),this.results.length>this.options.maxResults&&this.results.pop(),this.renderError(t),this.show(),this.updateStatus()}},{key:"renderResult",value:function(e){var t,n,r;this.content.innerHTML="";var i=document.createElement("div");i.className="result-card signature-result",i.style.cssText="\n            background: #2a2a2a;\n            border-radius: 8px;\n            padding: 20px;\n            margin-bottom: 15px;\n            border-left: 4px solid #00ff00;\n        ";var o=document.createElement("div");o.style.cssText="\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 15px;\n        ";var a=document.createElement("h4");a.textContent="‚úÖ Signature Generated",a.style.cssText="\n            margin: 0;\n            color: #00ff00;\n            font-size: 16px;\n        ";var s=document.createElement("span");s.textContent=new Date(e.timestamp).toLocaleTimeString(),s.style.cssText="\n            color: #888;\n            font-size: 12px;\n        ",o.appendChild(a),o.appendChild(s);var c=document.createElement("div");c.style.cssText="\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 15px;\n            margin-bottom: 15px;\n        ";var u=this.createDetailSection("Hash",e.hash,"hash");c.appendChild(u);var l=this.createDetailSection("Signature",{R:(null===(t=e.signature)||void 0===t||null===(t=t.r)||void 0===t?void 0:t.substring(0,16))+"...",S:(null===(n=e.signature)||void 0===n||null===(n=n.s)||void 0===n?void 0:n.substring(0,16))+"...",V:null===(r=e.signature)||void 0===r?void 0:r.v},"signature");if(c.appendChild(l),e.validation){var d,f=this.createDetailSection("Validation",{Status:e.validation.isValid?"‚úÖ Valid":"‚ùå Invalid",Errors:(null===(d=e.validation.errors)||void 0===d?void 0:d.length)||0},"validation");c.appendChild(f)}if(e.metadata&&Object.keys(e.metadata).length>0){var p=this.createDetailSection("Metadata",e.metadata,"metadata");c.appendChild(p)}var h=this.createActionButtons(e);c.appendChild(h),i.appendChild(o),i.appendChild(c),this.content.appendChild(i)}},{key:"renderTransactionResult",value:function(e){var t,n,r;this.content.innerHTML="";var i=document.createElement("div");i.className="result-card transaction-result",i.style.cssText="\n            background: #2a2a2a;\n            border-radius: 8px;\n            padding: 20px;\n            margin-bottom: 15px;\n            border-left: 4px solid ".concat("SUCCESS"===e.status?"#00ff00":"#ff4444",";\n        ");var o=document.createElement("div");o.style.cssText="\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 15px;\n        ";var a=document.createElement("h4");a.textContent="SUCCESS"===e.status?"‚úÖ Transaction Successful":"‚ùå Transaction Failed",a.style.cssText="\n            margin: 0;\n            color: ".concat("SUCCESS"===e.status?"#00ff00":"#ff4444",";\n            font-size: 16px;\n        ");var s=document.createElement("span");s.textContent=new Date(e.processedAt).toLocaleTimeString(),s.style.cssText="\n            color: #888;\n            font-size: 12px;\n        ",o.appendChild(a),o.appendChild(s);var c=document.createElement("div");c.style.cssText="\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 15px;\n            margin-bottom: 15px;\n        ";var u=this.createDetailSection("Transaction Hash",e.txHash,"hash");c.appendChild(u);var l=this.createDetailSection("Block Info",{Number:e.blockNumber||"Pending",Confirmations:e.confirmations||0,Level:(null===(t=e.analysis)||void 0===t?void 0:t.confirmationLevel)||"Unknown"},"block");c.appendChild(l);var d=this.createDetailSection("Gas Info",{Used:e.gasUsed||"Unknown",Price:e.effectiveGasPrice?"".concat(parseInt(e.effectiveGasPrice)/1e9," Gwei"):"Unknown",Efficiency:(null===(n=e.analysis)||void 0===n||null===(n=n.gasEfficiency)||void 0===n?void 0:n.efficiency)||"Unknown"},"gas");if(c.appendChild(d),null!==(r=e.analysis)&&void 0!==r&&r.estimatedCost){var f=this.createDetailSection("Cost",{ETH:"".concat(e.analysis.estimatedCost.eth.toFixed(6)," ETH"),USD:"$".concat(e.analysis.estimatedCost.usd.toFixed(2)),Gwei:"".concat(e.analysis.estimatedCost.gwei.toFixed(2)," Gwei")},"cost");c.appendChild(f)}var p=this.createTransactionActions(e);c.appendChild(p),i.appendChild(o),i.appendChild(c),this.content.appendChild(i)}},{key:"renderError",value:function(e){this.content.innerHTML="";var t=document.createElement("div");t.className="result-card error-result",t.style.cssText="\n            background: #2a2a2a;\n            border-radius: 8px;\n            padding: 20px;\n            margin-bottom: 15px;\n            border-left: 4px solid #ff4444;\n        ";var n=document.createElement("div");n.style.cssText="\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 15px;\n        ";var r=document.createElement("h4");r.textContent="‚ùå Error Occurred",r.style.cssText="\n            margin: 0;\n            color: #ff4444;\n            font-size: 16px;\n        ";var i=document.createElement("span");i.textContent=new Date(e.timestamp).toLocaleTimeString(),i.style.cssText="\n            color: #888;\n            font-size: 12px;\n        ",n.appendChild(r),n.appendChild(i);var o=document.createElement("div");o.style.cssText="\n            margin-bottom: 15px;\n        ";var a=document.createElement("div");if(a.textContent=e.message,a.style.cssText="\n            color: #ff8888;\n            margin-bottom: 10px;\n            font-weight: 500;\n        ",e.details){var s=document.createElement("pre");s.textContent=JSON.stringify(e.details,null,2),s.style.cssText="\n                background: #1a1a1a;\n                padding: 10px;\n                border-radius: 5px;\n                font-size: 11px;\n                color: #ccc;\n                overflow-x: auto;\n            ",o.appendChild(s)}o.appendChild(a);var c=this.createErrorActions(e);o.appendChild(c),t.appendChild(n),t.appendChild(o),this.content.appendChild(t)}},{key:"createDetailSection",value:function(e,t,n){var r=document.createElement("div");r.style.cssText="\n            background: #1a1a1a;\n            padding: 15px;\n            border-radius: 5px;\n        ";var o=document.createElement("h5");if(o.textContent=e,o.style.cssText="\n            margin: 0 0 10px 0;\n            color: #888;\n            font-size: 12px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n        ",r.appendChild(o),"string"==typeof t){var a=document.createElement("div");a.textContent=t,a.style.cssText='\n                color: #fff;\n                font-family: "Courier New", monospace;\n                font-size: 11px;\n                word-break: break-all;\n            ',r.appendChild(a)}else Object.entries(t).forEach(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],o=t[1],a=document.createElement("div");a.style.cssText="\n                    display: flex;\n                    justify-content: space-between;\n                    margin-bottom: 5px;\n                    font-size: 12px;\n                ";var s=document.createElement("span");s.textContent=n,s.style.color="#888";var c=document.createElement("span");c.textContent=o,c.style.color="#fff",a.appendChild(s),a.appendChild(c),r.appendChild(a)});return r}},{key:"createActionButtons",value:function(e){var t=this,n=document.createElement("div");n.style.cssText="\n            grid-column: 1 / -1;\n            display: flex;\n            gap: 10px;\n            margin-top: 15px;\n        ";var r=document.createElement("button");r.textContent="üìã Copy",r.onclick=function(){return t.copyToClipboard(e)},r.style.cssText="\n            background: #4444ff;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ";var i=document.createElement("button");return i.textContent="üíæ Export",i.onclick=function(){return t.exportResult(e)},i.style.cssText="\n            background: #44ff44;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ",n.appendChild(r),n.appendChild(i),n}},{key:"createTransactionActions",value:function(e){var t=this,n=document.createElement("div");n.style.cssText="\n            grid-column: 1 / -1;\n            display: flex;\n            gap: 10px;\n            margin-top: 15px;\n        ";var r=document.createElement("button");r.textContent="üîç Explorer",r.onclick=function(){return t.openExplorer(e.txHash)},r.style.cssText="\n            background: #ff8844;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ";var i=document.createElement("button");return i.textContent="üìã Copy Hash",i.onclick=function(){return t.copyToClipboard(e.txHash)},i.style.cssText="\n            background: #4444ff;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ",n.appendChild(r),n.appendChild(i),n}},{key:"createErrorActions",value:function(e){var t=this,n=document.createElement("div");n.style.cssText="\n            display: flex;\n            gap: 10px;\n            margin-top: 15px;\n        ";var r=document.createElement("button");r.textContent="üîÑ Retry",r.onclick=function(){return t.retryOperation(e)},r.style.cssText="\n            background: #ff8844;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ";var i=document.createElement("button");return i.textContent="üìß Report",i.onclick=function(){return t.reportError(e)},i.style.cssText="\n            background: #ff4444;\n            color: white;\n            border: none;\n            padding: 8px 15px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 12px;\n            flex: 1;\n        ",n.appendChild(r),n.appendChild(i),n}},{key:"copyToClipboard",value:function(e){var t="string"==typeof e?e:JSON.stringify(e,null,2);navigator.clipboard.writeText(t).then(function(){}).catch(function(){})}},{key:"exportResult",value:function(e){var t={exportTime:(new Date).toISOString(),result:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="signature-result-".concat((new Date).toISOString().split("T")[0],".json"),i.click(),URL.revokeObjectURL(r)}},{key:"openExplorer",value:function(e){var t="https://sepolia.etherscan.io/tx/".concat(e);window.open(t,"_blank")}},{key:"retryOperation",value:function(e){this.hide()}},{key:"reportError",value:function(e){}},{key:"updateStatus",value:function(){var e=this.results.length,t=this.results.filter(function(e){return"SUCCESS"===e.status||"signature"===e.type}).length,n=this.results.filter(function(e){return"ERROR"===e.status||"error"===e.type}).length;this.statusBar.innerHTML="\n            <span>Results: ".concat(e," | Success: ").concat(t," | Errors: ").concat(n,"</span>\n            <span>").concat(this.currentResult?new Date(this.currentResult.timestamp||Date.now()).toLocaleTimeString():"","</span>\n        ")}},{key:"show",value:function(){this.container.style.display="block",this.options.animations&&(this.container.style.transform="translateX(0)")}},{key:"hide",value:function(){var e=this;this.options.animations?(this.container.style.transform="translateX(100%)",setTimeout(function(){e.container.style.display="none"},300)):this.container.style.display="none"}},{key:"toggle",value:function(){"none"===this.container.style.display?this.show():this.hide()}},{key:"minimize",value:function(){this.container.style.height="60px",this.content.style.display="none"}},{key:"maximize",value:function(){this.container.style.height="80vh",this.content.style.display="block"}},{key:"clear",value:function(){this.results=[],this.currentResult=null,this.content.innerHTML="",this.updateStatus()}},{key:"getStats",value:function(){return{totalResults:this.results.length,byType:this.results.reduce(function(e,t){var n=t.type||"unknown";return e[n]=(e[n]||0)+1,e},{}),byStatus:this.results.reduce(function(e,t){var n=t.status||"unknown";return e[n]=(e[n]||0)+1,e},{})}}}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();e.exports&&(e.exports=u);var l=new u,d=l.updateStatus.bind(l)},730:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return c(l,"_invoke",function(n,r,i){var o,s,c,u=0,l=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,c=e,f.n=n,a}};function p(n,r){for(s=n,c=r,t=0;!d&&u&&!i&&t<l.length;t++){var i,o=l[t],p=f.p,h=o[2];n>3?(i=h===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<h&&(i=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,s=0))}if(i||n>1)return a;throw d=!0,r}return function(i,l,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,h),s=l,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,c)):f.n=c:f.v=c);try{if(u=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==a)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,i,o),!0),l}var a={};function u(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(c(t={},r,function(){return this}),t),p=d.prototype=u.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=d,c(p,"constructor",d),c(d,"constructor",l),l.displayName="GeneratorFunction",c(d,i,"GeneratorFunction"),c(p),c(p,i,"Generator"),c(p,r,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:h}})()}function c(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}c=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){c(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},c(e,t,n,r)}function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{C:()=>g}),e=n.hmd(e);var m=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=f({maxRetries:3,retryDelay:2e3,confirmationBlocks:1,timeout:3e4},t),this.pendingReceipts=new Map,this.processedReceipts=new Map,this.errorHandlers=new Map,this.successHandlers=new Map},t=[{key:"processReceipt",value:(r=l(s().m(function e(t,n){var r,i,o,a,c,u,l=arguments;return s().w(function(e){for(;;)switch(e.n){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:{},i=f(f({},this.options),r),e.p=1,!this.processedReceipts.has(t)){e.n=2;break}return e.a(2,this.processedReceipts.get(t));case 2:return this.pendingReceipts.set(t,{status:"PENDING",startTime:Date.now(),retries:0}),e.n=3,this.waitForReceipt(t,n,i);case 3:return o=e.v,a=this.analyzeReceipt(o,t),this.processedReceipts.set(t,a),this.pendingReceipts.delete(t),this.triggerSuccessHandler(t,a),e.a(2,a);case 4:throw e.p=4,u=e.v,c=this.createErrorReceipt(t,u),this.processedReceipts.set(t,c),this.pendingReceipts.delete(t),this.triggerErrorHandler(t,c),u;case 5:return e.a(2)}},e,this,[[1,4]])})),function(e,t){return r.apply(this,arguments)})},{key:"waitForReceipt",value:(n=l(s().m(function e(t,n,r){var i,o,a,c,u,l,d;return s().w(function(e){for(;;)switch(e.n){case 0:i=r.maxRetries,o=r.retryDelay,a=r.confirmationBlocks,c=r.timeout,u=0;case 1:if(!(u<i)){e.n=8;break}return e.p=2,e.n=3,Promise.race([n.waitForTransaction(t,a),this.createTimeout(c)]);case 3:if(!(l=e.v)){e.n=4;break}return e.a(2,l);case 4:e.n=7;break;case 5:if(e.p=5,d=e.v,!(++u>=i)){e.n=6;break}throw new Error("Failed to get receipt after ".concat(i," retries: ").concat(d.message));case 6:return e.n=7,this.delay(o*u);case 7:e.n=1;break;case 8:throw new Error("Transaction receipt timeout");case 9:return e.a(2)}},e,this,[[2,5]])})),function(e,t,r){return n.apply(this,arguments)})},{key:"createTimeout",value:function(e){return new Promise(function(t,n){setTimeout(function(){return n(new Error("Transaction timeout"))},e)})}},{key:"delay",value:function(e){return new Promise(function(t){return setTimeout(t,e)})}},{key:"analyzeReceipt",value:function(e,t){var n={txHash:t,status:1===e.status?"SUCCESS":"FAILED",blockNumber:e.blockNumber,blockHash:e.blockHash,confirmations:e.confirmations,gasUsed:e.gasUsed.toString(),effectiveGasPrice:e.effectiveGasPrice.toString(),cumulativeGasUsed:e.cumulativeGasUsed.toString(),from:e.from,to:e.to,contractAddress:e.contractAddress,logs:e.logs||[],processedAt:(new Date).toISOString(),analysis:{isSuccess:1===e.status,hasLogs:e.logs&&e.logs.length>0,gasEfficiency:this.calculateGasEfficiency(e),confirmationLevel:this.getConfirmationLevel(e.confirmations),estimatedCost:this.estimateTransactionCost(e)}};return e.logs&&e.logs.length>0&&(n.logAnalysis=this.analyzeLogs(e.logs)),n}},{key:"calculateGasEfficiency",value:function(e){var t=parseInt(e.gasUsed.toString()),n=parseInt(e.effectiveGasPrice.toString());return{gasUsed:t,gasPrice:n,totalCost:t*n,efficiency:t<1e5?"HIGH":t<3e5?"MEDIUM":"LOW"}}},{key:"getConfirmationLevel",value:function(e){return e>=12?"FINAL":e>=6?"HIGH":e>=3?"MEDIUM":e>=1?"LOW":"PENDING"}},{key:"estimateTransactionCost",value:function(e){var t=parseInt(e.gasUsed.toString())*parseInt(e.effectiveGasPrice.toString());return{wei:t,gwei:t/1e9,eth:t/1e18,usd:this.estimateUSD(t)}}},{key:"estimateUSD",value:function(e){return e/1e18*2e3}},{key:"analyzeLogs",value:function(e){var t={totalLogs:e.length,eventTypes:{},contractInteractions:[],errors:[]};return e.forEach(function(e,n){var r=e.topics[0]||"unknown";t.eventTypes[r]=(t.eventTypes[r]||0)+1,e.address&&t.contractInteractions.push({contract:e.address,topics:e.topics,data:e.data,index:n}),e.topics.some(function(e){return e.includes("error")||e.includes("fail")})&&t.errors.push({logIndex:n,contract:e.address,topics:e.topics,data:e.data})}),t}},{key:"createErrorReceipt",value:function(e,t){return{txHash:e,status:"ERROR",error:{message:t.message,code:t.code||"UNKNOWN",stack:t.stack},processedAt:(new Date).toISOString(),analysis:{isSuccess:!1,hasLogs:!1,gasEfficiency:null,confirmationLevel:"FAILED",estimatedCost:null}}}},{key:"getReceiptStatus",value:function(e){return this.processedReceipts.has(e)?this.processedReceipts.get(e):this.pendingReceipts.has(e)?this.pendingReceipts.get(e):{status:"NOT_FOUND"}}},{key:"getAllReceipts",value:function(){return Array.from(this.processedReceipts.values())}},{key:"getPendingReceipts",value:function(){return Array.from(this.pendingReceipts.entries()).map(function(e){var t=i(e,2);return f({txHash:t[0]},t[1])})}},{key:"addSuccessHandler",value:function(e,t){this.successHandlers.set(e,t)}},{key:"addErrorHandler",value:function(e,t){this.errorHandlers.set(e,t)}},{key:"triggerSuccessHandler",value:function(e,t){var n=this.successHandlers.get(e);if(n)try{n(t)}catch(e){console.error("Error in success handler:",e)}}},{key:"triggerErrorHandler",value:function(e,t){var n=this.errorHandlers.get(e);if(n)try{n(t)}catch(e){console.error("Error in error handler:",e)}}},{key:"clearOldReceipts",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,n=Date.now()-60*t*60*1e3,r=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=o(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}(this.processedReceipts.entries());try{for(r.s();!(e=r.n()).done;){var a=i(e.value,2),s=a[0],c=a[1];new Date(c.processedAt).getTime()<n&&this.processedReceipts.delete(s)}}catch(e){r.e(e)}finally{r.f()}}},{key:"getReceiptStats",value:function(){var e=this.getAllReceipts(),t={total:e.length,byStatus:{},byConfirmationLevel:{},averageGasUsed:0,totalCost:0},n=0,r=0;return e.forEach(function(e){var i,o,a=e.status;t.byStatus[a]=(t.byStatus[a]||0)+1;var s=(null===(i=e.analysis)||void 0===i?void 0:i.confirmationLevel)||"UNKNOWN";t.byConfirmationLevel[s]=(t.byConfirmationLevel[s]||0)+1,null!==(o=e.analysis)&&void 0!==o&&o.gasEfficiency&&(n+=e.analysis.gasEfficiency.gasUsed,r+=e.analysis.gasEfficiency.totalCost)}),e.length>0&&(t.averageGasUsed=Math.round(n/e.length),t.totalCost=r),t}},{key:"exportReceipts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json",t=this.getAllReceipts();if("json"===e)return JSON.stringify(t,null,2);if("csv"===e){var n=[["txHash","status","blockNumber","gasUsed","effectiveGasPrice","processedAt"].join(",")];return t.forEach(function(e){var t=[e.txHash,e.status,e.blockNumber||"",e.gasUsed||"",e.effectiveGasPrice||"",e.processedAt];n.push(t.join(","))}),n.join("\n")}return""}},{key:"validateReceipt",value:function(e){var t=[],n=[];return e.txHash||t.push("Missing txHash"),e.status||t.push("Missing status"),e.processedAt||t.push("Missing processedAt"),e.status&&!["SUCCESS","FAILED","ERROR","PENDING"].includes(e.status)&&n.push("Invalid status value"),e.gasUsed&&isNaN(parseInt(e.gasUsed))&&t.push("Invalid gasUsed value"),{isValid:0===t.length,errors:t,warnings:n}}}],t&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();e.exports&&(e.exports=m);var v=new m,g=v.processReceipt.bind(v)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=[],i="DEBUG",o="INFO",a="WARN",s="ERROR";function c(e,t){var n,i={level:e,message:t,time:(new Date).toLocaleTimeString()};r.push(i),document.getElementById("debug-console")&&((n=document.getElementById("debug-console"))&&(n.innerHTML=r.map(function(e){return'<div class="log-entry log-'.concat(e.level.toLowerCase(),'">\n            <span class="log-time">[').concat(e.time,']</span>\n            <span class="log-level">').concat(e.level,'</span>:\n            <span class="log-message">').concat(e.message,"</span>\n        </div>")}).join("")))}function u(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return l(u,"_invoke",function(n,r,i){var o,s,c,u=0,l=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,c=e,f.n=n,a}};function p(n,r){for(s=n,c=r,t=0;!d&&u&&!i&&t<l.length;t++){var i,o=l[t],p=f.p,h=o[2];n>3?(i=h===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<h&&(i=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,s=0))}if(i||n>1)return a;throw d=!0,r}return function(i,l,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,h),s=l,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,c)):f.n=c:f.v=c);try{if(u=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==a)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,i,o),!0),u}var a={};function s(){}function c(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(l(t={},r,function(){return this}),t),p=d.prototype=s.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=d,l(p,"constructor",d),l(d,"constructor",c),c.displayName="GeneratorFunction",l(d,i,"GeneratorFunction"),l(p),l(p,i,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:h}})()}function l(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}l=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){l(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},l(e,t,n,r)}function d(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var f=!1;function p(){return h.apply(this,arguments)}function h(){var e;return e=u().m(function e(){var t,n;return u().w(function(e){for(;;)switch(e.n){case 0:if(!f){e.n=1;break}return e.a(2);case 1:if(f=!0,void 0!==window.ethereum){e.n=2;break}return alert("MetaMask extension not found. Please install MetaMask to use this feature."),e.a(2);case 2:return e.p=2,e.n=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return t=e.v,n=t[0],window.ethereum.on("accountsChanged",function(e){window.location.reload()}),window.ethereum.on("chainChanged",function(){window.location.reload()}),e.a(2,n);case 4:return e.p=4,e.v,f=!1,e.a(2,null)}},e,null,[[2,4]])}),h=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)})},h.apply(this,arguments)}function y(){if(window.crypto&&window.crypto.randomUUID){var e=window.crypto.randomUUID();return sessionStorage.setItem("sessionID",e),e}var t="sess-"+Math.random().toString(36).substr(2,9);return sessionStorage.setItem("sessionID",t),t}function m(e,t){localStorage.setItem(e,JSON.stringify(t))}function v(e){var t=localStorage.getItem(e);try{return t?JSON.parse(t):null}catch(e){return null}}var g=n(37),b=n(730);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}try{var k=function e(t){if("object"!==S(t)||null===t)return"";for(var n="",r=0,i=Object.entries(t);r<i.length;r++){var o=w(i[r],2),a=o[0],s=o[1];n+="object"===S(s)&&null!==s?e(s):"".concat(a,":").concat(s,";")}return n}({name:"Chip",version:"1.0",active:!0,details:{manufacturer:"TechCorp",year:2023}});console.log("Memory Format:",k)}catch(e){console.error("Error converting JSON to memory format:",e.message)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return I(u,"_invoke",function(n,r,i){var o,s,c,u=0,l=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,c=e,f.n=n,a}};function p(n,r){for(s=n,c=r,t=0;!d&&u&&!i&&t<l.length;t++){var i,o=l[t],p=f.p,h=o[2];n>3?(i=h===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((i=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<h&&(i=n<3||o[0]>r||r>h)&&(o[4]=n,o[5]=r,f.n=h,s=0))}if(i||n>1)return a;throw d=!0,r}return function(i,l,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,h),s=l,c=h;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,c)):f.n=c:f.v=c);try{if(u=2,o){if(s||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),s=1);o=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==a)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,i,o),!0),u}var a={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(I(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,I(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,I(d,"constructor",u),I(u,"constructor",c),c.displayName="GeneratorFunction",I(u,i,"GeneratorFunction"),I(d),I(d,i,"Generator"),I(d,r,function(){return this}),I(d,"toString",function(){return"[object Generator]"}),(T=function(){return{w:o,m:f}})()}function I(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}I=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){I(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},I(e,t,n,r)}function j(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function R(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,s,"next",e)}function s(e){j(o,r,i,a,s,"throw",e)}a(void 0)})}}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function P(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var N=window.ethers,M=P(function e(){H(this,e),this.walletConnected=!1,this.walletAddress=null,this.sessionID=null,this.chipStatus="offline",this.networkStatus="disconnected",this.currentSignature=null,this.debugMode=!1}),A=function(){return P(function e(){H(this,e),this.state=new M,this.modules={},this.pollStatusInterval=null,this.init()},[{key:"init",value:(f=R(T().m(function e(){var t;return T().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,c("Initializing Virtual Chip Signature System...",o),this.hideLoadingScreen(),e.n=1,this.initializeModules();case 1:return this.setupEventListeners(),e.n=2,this.restoreSession();case 2:this.updateUI(),c("Application initialized successfully",o),e.n=4;break;case 3:e.p=3,t=e.v,c("Initialization failed: ".concat(t.message),s);case 4:return e.a(2)}},e,this,[[0,3]])})),function(){return f.apply(this,arguments)})},{key:"initializeModules",value:(d=R(T().m(function e(){var t=this;return T().w(function(e){for(;;)switch(e.n){case 0:c("Initializing application modules...",i),this.modules.wallet={connect:p,isConnected:function(){return t.state.walletConnected}},this.modules.session={assign:y,getCurrent:function(){return t.state.sessionID}},this.modules.storage={store:m,get:v},this.modules.ui={updateStatus:g.y,processReceipt:b.C},c("Modules initialized successfully",i);case 1:return e.a(2)}},e,this)})),function(){return d.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var e=this;c("Setting up event listeners...",i);var t=document.getElementById("connect-wallet-btn");t&&t.addEventListener("click",function(){return e.handleWalletConnection()});var n=document.getElementById("generate-signature-btn");n&&n.addEventListener("click",function(){return e.handleSignatureGeneration()});var r=document.getElementById("verify-signature-btn");r&&r.addEventListener("click",function(){return e.handleSignatureVerification()});var o=document.getElementById("debug-toggle");o&&o.addEventListener("click",function(){return e.toggleDebugMode()});var a=document.getElementById("debug-close");a&&a.addEventListener("click",function(){return e.toggleDebugMode()});var s=document.getElementById("data-input");s&&s.addEventListener("input",function(t){return e.handleInputChange("data",t.target.value)});var u=document.getElementById("private-key-input");u&&u.addEventListener("input",function(t){return e.handleInputChange("privateKey",t.target.value)});var l=document.getElementById("results-section");if(l){l.insertAdjacentHTML("beforeend",'\n            <form id="verify-form" class="classic-form" style="margin-top:2rem;">\n                <label for="verify-message" class="form-label">Message</label>\n                <textarea id="verify-message" class="form-input" rows="2" placeholder="Enter the original message" required></textarea>\n                <label for="verify-signature" class="form-label">Signature</label>\n                <input id="verify-signature" class="form-input" placeholder="Paste the signature (0x...)" required />\n                <label for="verify-address" class="form-label">Signer Address (optional)</label>\n                <input id="verify-address" class="form-input" placeholder="0x... (leave blank to recover)" />\n                <div style="display: flex; gap: 1rem;">\n                    <button type="submit" class="btn btn-secondary">Verify (Local)</button>\n                    <button type="button" id="verify-onchain-btn" class="btn btn-primary">Verify On-Chain</button>\n                </div>\n            </form>\n            <div id="verify-result" class="output-field" style="margin-top:1rem;"></div>\n            <div id="onchain-result" class="output-field" style="margin-top:1rem;"></div>\n            ');var d=document.getElementById("verify-form"),f=document.getElementById("verify-result"),p=document.getElementById("onchain-result");d.onsubmit=function(){var e=R(T().m(function e(t){var n,r,i,o,a,s;return T().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),n=document.getElementById("verify-message").value.trim(),r=document.getElementById("verify-signature").value.trim(),i=document.getElementById("verify-address").value.trim(),n&&r){e.n=1;break}return f.textContent="Please provide both message and signature.",c("WARN","Verification input missing."),e.a(2);case 1:e.p=1,e.p=2,o=N.utils.verifyMessage(n,r),e.n=4;break;case 3:return e.p=3,e.v,f.textContent="Invalid signature format.",c("ERROR","Invalid signature format."),e.a(2);case 4:!1,a=i?o.toLowerCase()===i.toLowerCase():!!o,f.innerHTML=a?"<span style='color:green;font-weight:600;'>‚úì Signature is valid (local)</span><br>Recovered address: <code>".concat(o,"</code>"):"<span style='color:red;font-weight:600;'>‚úó Signature is invalid (local)</span><br>Recovered address: <code>".concat(o,"</code>"),c("INFO","Signature verification (local): ".concat(a?"valid":"invalid"," (recovered: ").concat(o,")")),fetch("http://localhost:4000/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"local",message:n,signature:r,address:i,recovered:o,result:a?"valid":"invalid"})}).then(function(e){return e.json()}).then(function(e){return c("INFO","Logged to backend: "+JSON.stringify(e))}).catch(function(e){return c("ERROR","Failed to log to backend: "+e.message)}),e.n=6;break;case 5:e.p=5,s=e.v,f.textContent="Verification failed: "+s.message,c("ERROR","Verification failed: "+s.message);case 6:return e.a(2)}},e,null,[[2,3],[1,5]])}));return function(t){return e.apply(this,arguments)}}();var h=document.getElementById("verify-onchain-btn");h&&(h.onclick=R(T().m(function e(){var t,n,r,i,o,a,s,u,l,d,f,h,y,m,v,g;return T().w(function(e){for(;;)switch(e.n){case 0:if(t=document.getElementById("verify-message").value.trim(),n=document.getElementById("verify-signature").value.trim(),r=document.getElementById("verify-address").value.trim(),t&&n&&r){e.n=1;break}return p.textContent="Please provide message, signature, and signer address for on-chain verification.",c("WARN","On-chain verification input missing."),e.a(2);case 1:if(i=prompt("Enter SignatureVerifier contract address:")){e.n=2;break}return p.textContent="Contract address is required.",c("WARN","No contract address provided."),e.a(2);case 2:if(e.p=2,window.ethereum){e.n=3;break}return p.textContent="MetaMask is required for on-chain verification.",c("ERROR","MetaMask not found."),e.a(2);case 3:return o=new N.BrowserProvider(window.ethereum),e.n=4,o.getSigner();case 4:return a=e.v,s=new N.Contract(i,["function verifySignature(address,string,bytes) public returns (bool)"],a),u=N.getBytes(n),p.textContent="Verifying on-chain...",c("INFO","Calling verifySignature on-chain..."),e.n=5,s.verifySignature(r,t,u);case 5:return l=e.v,e.n=6,l.wait();case 6:d=e.v,f=!1,h=C(d.logs),e.p=7,h.s();case 8:if((y=h.n()).done){e.n=13;break}if(m=y.value,e.p=9,"SignatureVerified"!==s.interface.parseLog(m).name){e.n=10;break}return f=!0,p.innerHTML="<span style='color:green;font-weight:600;'>‚úì Signature is valid (on-chain)</span><br>Tx Hash: <code>".concat(d.transactionHash,"</code>"),c("INFO","Signature verified on-chain. Tx: ".concat(d.transactionHash)),fetch("http://localhost:4000/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"on-chain",message:t,signature:n,address:r,txHash:d.transactionHash,result:"valid"})}).then(function(e){return e.json()}).then(function(e){return c("INFO","Logged to backend: "+JSON.stringify(e))}).catch(function(e){return c("ERROR","Failed to log to backend: "+e.message)}),e.a(3,13);case 10:e.n=12;break;case 11:e.p=11,e.v;case 12:e.n=8;break;case 13:e.n=15;break;case 14:e.p=14,v=e.v,h.e(v);case 15:return e.p=15,h.f(),e.f(15);case 16:f||(p.innerHTML="<span style='color:red;font-weight:600;'>‚úó Signature is invalid (on-chain)</span><br>Tx Hash: <code>".concat(d.transactionHash,"</code>"),c("INFO","Signature invalid on-chain. Tx: ".concat(d.transactionHash)),fetch("http://localhost:4000/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"on-chain",message:t,signature:n,address:r,txHash:d.transactionHash,result:"invalid"})}).then(function(e){return e.json()}).then(function(e){return c("INFO","Logged to backend: "+JSON.stringify(e))}).catch(function(e){return c("ERROR","Failed to log to backend: "+e.message)})),e.n=18;break;case 17:e.p=17,g=e.v,p.textContent="On-chain verification failed: "+g.message,c("ERROR","On-chain verification failed: "+g.message);case 18:return e.a(2)}},e,null,[[9,11],[7,14,15,16],[2,17]])})))}c("Event listeners setup complete",i)}},{key:"handleWalletConnection",value:(l=R(T().m(function e(){return T().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,this.modules.wallet.connect();case 1:this.state.walletConnected=!0,this.updateUI(),this.startStatusPolling(),this.setupMetaMaskListeners(),U(),e.n=3;break;case 2:e.p=2,c("Wallet connection failed: "+e.v.message,s);case 3:return e.a(2)}},e,this,[[0,2]])})),function(){return l.apply(this,arguments)})},{key:"startStatusPolling",value:function(){this.pollStatusInterval||(z(),this.pollStatusInterval=setInterval(z,5e3))}},{key:"setupMetaMaskListeners",value:function(){window.ethereum&&(window.ethereum.on("connect",U),window.ethereum.on("accountsChanged",U),window.ethereum.on("chainChanged",U))}},{key:"handleSignatureGeneration",value:(u=R(T().m(function e(){var t,n,r,u,l,d,f,p,h,y,m;return T().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,n=document.getElementById("data-input"),r=null==n||null===(t=n.value)||void 0===t?void 0:t.trim()){e.n=1;break}return c("[WARN] No message provided for signature generation.",a),e.a(2);case 1:return c("[DEBUG] Generating signature for message: "+r,i),e.n=2,fetch("http://localhost:4000/sign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})});case 2:return u=e.v,c("[DEBUG] Awaiting backend response...",i),e.n=3,u.json();case 3:if(l=e.v,c("[DEBUG] Backend response: "+JSON.stringify(l),i),l.success){e.n=4;break}throw new Error(l.error||"Signature generation failed");case 4:d={message:r,signature:l.signature,hash:l.hash,publicKey:l.publicKey,timestamp:(new Date).toISOString(),r:l.r,s:l.s,v:l.v},this.state.currentSignature=d,this.modules.storage.store("currentSignature",d),this.updateSignatureOutput(d),(f=document.getElementById("hash-output"))&&(c("[DEBUG] Updating Keccak output: "+l.hash,i),f.innerHTML="<code>".concat(l.hash,"</code>")),l.r&&l.s&&void 0!==l.v?(p=document.getElementById("ecdsa-r"),h=document.getElementById("ecdsa-s"),y=document.getElementById("ecdsa-v"),c("[DEBUG] Updating ECDSA outputs: r=".concat(l.r,", s=").concat(l.s,", v=").concat(l.v),i),p&&(p.innerHTML="<code>".concat(l.r,"</code>")),h&&(h.innerHTML="<code>".concat(l.s,"</code>")),y&&(y.innerHTML="<code>".concat(l.v,"</code>"))):c("[WARN] ECDSA r, s, v missing from backend response.",a),c("Signature generated successfully",o),e.n=6;break;case 5:e.p=5,m=e.v,c("Signature generation failed: ".concat(m.message),s);case 6:return e.a(2)}},e,this,[[0,5]])})),function(){return u.apply(this,arguments)})},{key:"handleSignatureVerification",value:(r=R(T().m(function e(){var t;return T().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,this.state.currentSignature){e.n=1;break}return e.a(2);case 1:return c("Verifying signature...",o),e.n=2,this.simulateSignatureVerification();case 2:e.n=4;break;case 3:e.p=3,t=e.v,c("Signature verification failed: ".concat(t.message),s);case 4:return e.a(2)}},e,this,[[0,3]])})),function(){return r.apply(this,arguments)})},{key:"simulateSignatureVerification",value:(n=R(T().m(function e(){var t;return T().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,1e3)});case 1:t={isValid:!0,message:"Signature verified successfully",timestamp:(new Date).toISOString(),verifiedBy:"Virtual Chip System"},this.updateVerificationOutput(t),c("Signature verified successfully",o);case 2:return e.a(2)}},e,this)})),function(){return n.apply(this,arguments)})},{key:"handleInputChange",value:function(e,t){c("Input changed: ".concat(e," = ").concat(t?"[REDACTED]":"empty"),i),this.modules.storage.store("input_".concat(e),t)}},{key:"toggleDebugMode",value:function(){this.state.debugMode=!this.state.debugMode;var e=document.getElementById("debug-panel");e&&(e.style.display=this.state.debugMode?"block":"none"),c("Debug mode ".concat(this.state.debugMode?"enabled":"disabled"),i)}},{key:"restoreSession",value:(t=R(T().m(function e(){var t,n;return T().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!(t=this.modules.storage.get("sessionID"))){e.n=1;break}this.state.sessionID=t,c("Session restored: ".concat(t),i),e.n=3;break;case 1:return e.n=2,this.modules.session.assign();case 2:this.state.sessionID=e.v,this.modules.storage.store("sessionID",this.state.sessionID),c("New session created: ".concat(this.state.sessionID),i);case 3:e.n=5;break;case 4:e.p=4,n=e.v,c("Session restoration failed: ".concat(n.message),a);case 5:return e.a(2)}},e,this,[[0,4]])})),function(){return t.apply(this,arguments)})},{key:"updateUI",value:function(){var e=document.getElementById("wallet-status");e&&(e.textContent=this.state.walletConnected?"Connected":"Disconnected",e.className="status-indicator ".concat(this.state.walletConnected?"online":"offline"));var t=document.getElementById("network-status");t&&(t.textContent="connected"===this.state.networkStatus?"Connected":"Disconnected",t.className="status-indicator ".concat("connected"===this.state.networkStatus?"online":"offline"));var n=document.getElementById("session-status");n&&(n.textContent=this.state.sessionID?"Active":"No Session",n.className="status-indicator ".concat(this.state.sessionID?"online":"offline"));var r=document.getElementById("chip-status");r&&(r.textContent="online"===this.state.chipStatus?"Online":"Offline",r.className="status-indicator ".concat("online"===this.state.chipStatus?"online":"offline"));var i=document.getElementById("connect-wallet-btn");i&&(i.textContent=this.state.walletConnected?"Wallet Connected":"Connect Wallet",i.disabled=this.state.walletConnected)}},{key:"updateSignatureOutput",value:function(e){var t=this,n=document.getElementById("ecdsa-r"),r=document.getElementById("ecdsa-s"),i=document.getElementById("ecdsa-v"),o=document.getElementById("address-output"),a=document.getElementById("signature-output");if(n&&(n.innerHTML="<code>".concat(e.r?e.r:"-","</code>")),r&&(r.innerHTML="<code>".concat(e.s?e.s:"-","</code>")),i&&(i.innerHTML="<code>".concat(void 0!==e.v?e.v:"-","</code>")),o&&(o.innerHTML="<code>".concat(e.publicKey?e.publicKey:"-","</code>")),a){a.innerHTML='\n                <div class="signature-details">\n                    <p><strong>Signature:</strong> <code id="signature-value">'.concat(e.signature?e.signature:"-",'</code></p>\n                    <button id="copy-signature-btn" class="btn btn-small" style="margin-top:0.5em;">Copy</button>\n                </div>\n            ');var s=document.getElementById("copy-signature-btn");s&&(s.onclick=function(){var t=e.signature?e.signature:"";navigator.clipboard.writeText(t)});var c=document.getElementById("send-to-chain-btn");c&&(c.onclick=function(){return t.sendSignatureToSepolia(e)})}}},{key:"sendSignatureToSepolia",value:(e=R(T().m(function e(t){var n,r,i,o,a,u,l,d,f;return T().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,window.ethereum){e.n=1;break}return e.a(2);case 1:if(n=prompt("Enter SignatureVerifier contract address (Sepolia):")){e.n=2;break}return e.a(2);case 2:return r=["function submitSignature(string message, bytes signature, address signer) public returns (bool)"],i=new N.BrowserProvider(window.ethereum),e.n=3,i.send("eth_requestAccounts",[]);case 3:return e.n=4,i.getSigner();case 4:return o=e.v,a=new N.Contract(n,r,o),u=N.getBytes(t.signature),e.n=5,a.submitSignature(t.message,u,t.publicKey);case 5:return l=e.v,e.n=6,l.wait();case 6:d=e.v,(f=document.getElementById("signature-output"))&&(f.innerHTML+="<p><strong>Tx Hash:</strong> <code>".concat(d.transactionHash,"</code></p>")),e.n=8;break;case 7:e.p=7,c("Failed to send transaction: "+e.v.message,s);case 8:return e.a(2)}},e,null,[[0,7]])})),function(t){return e.apply(this,arguments)})},{key:"updateVerificationOutput",value:function(e){var t=document.getElementById("verification-output");t&&(t.innerHTML='\n                <div class="verification-details">\n                    <p><strong>Status:</strong> <span class="'.concat(e.isValid?"valid":"invalid",'">').concat(e.isValid?"‚úì Valid":"‚úó Invalid","</span></p>\n                    <p><strong>Message:</strong> ").concat(e.message,"</p>\n                    <p><strong>Verified By:</strong> ").concat(e.verifiedBy,"</p>\n                    <p><strong>Timestamp:</strong> ").concat(new Date(e.timestamp).toLocaleString(),"</p>\n                </div>\n            "))}},{key:"hideLoadingScreen",value:function(){var e=document.getElementById("loading-screen"),t=document.getElementById("app");e&&(e.style.display="none"),t&&(t.style.display="block")}}]);var e,t,n,r,u,l,d,f}();function B(e,t){var n=document.getElementById(e);n&&("online"===t||"active"===t?(n.textContent=e.replace("-status","").replace(/\b\w/g,function(e){return e.toUpperCase()})+" Online",n.className="status-indicator online"):(n.textContent=e.replace("-status","").replace(/\b\w/g,function(e){return e.toUpperCase()})+" Offline",n.className="status-indicator offline"))}function U(){return G.apply(this,arguments)}function G(){return(G=R(T().m(function e(){var t,n;return T().w(function(e){for(;;)switch(e.n){case 0:if(!window.ethereum){e.n=6;break}return e.p=1,e.n=2,window.ethereum.request({method:"eth_accounts"});case 2:return t=e.v,e.n=3,window.ethereum.request({method:"eth_chainId"});case 3:n=e.v,t.length>0&&"0xaa36a7"===n?B("blockchain-status","online"):B("blockchain-status","offline"),e.n=5;break;case 4:e.p=4,e.v,B("blockchain-status","offline");case 5:e.n=7;break;case 6:B("blockchain-status","offline");case 7:return e.a(2)}},e,null,[[1,4]])}))).apply(this,arguments)}function z(){return F.apply(this,arguments)}function F(){return(F=R(T().m(function e(){var t,n;return T().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,fetch("http://localhost:4000/api/status");case 1:return t=e.v,e.n=2,t.json();case 2:B("backend-status",(n=e.v).backend?"online":"offline"),B("chip-status",n.chip?"online":"offline"),e.n=4;break;case 3:e.p=3,e.v,B("backend-status","offline"),B("chip-status","offline");case 4:return e.a(2)}},e,null,[[0,3]])}))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",function(){window.app=new A}),setInterval(z,5e3),z()})();
//# sourceMappingURL=main.2db9463c4e39c7d2f00b.js.map